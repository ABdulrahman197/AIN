@model IEnumerable<AIN.Application.Dtos.AdminUserResponse>
@{
    ViewData["Title"] = "المستخدمون";
}
<div class="d-flex align-items-center justify-content-between mb-3">
	<h2 class="h4 m-0">إدارة المستخدمين</h2>
</div>

<div class="p-3 bg-white rounded shadow-sm mb-3">
	<form class="row g-2" method="get">
		<div class="col-12 col-md-6">
			<label class="form-label">بحث</label>
			<input name="search" class="form-control" value="@ViewBag.Search" placeholder="الاسم أو البريد" />
		</div>
		<div class="col-12 d-flex justify-content-end">
			<button class="btn btn-primary">تصفية</button>
		</div>
	</form>
</div>

<table class="table table-striped table-bordered bg-white">
	<thead>
		<tr>
			<th>الاسم</th>
			<th>البريد</th>
			<th>النقاط</th>
			<th>إجراء</th>
		</tr>
	</thead>
	<tbody>
		@foreach (var u in Model)
		{
			<tr>
				<td><a href="@Url.Action("User", "Admin", new { id = u.Id })">@u.DisplayName</a></td>
				<td>@u.Email</td>
				<td>@u.TrustPoints</td>
				<td>
					<form method="post" action="@Url.Action("DeleteUser", "Admin", new { id = u.Id })" onsubmit="return confirm('حذف المستخدم؟');">
						@Html.AntiForgeryToken()
						<button class="btn btn-sm btn-danger">حذف</button>
					</form>
				</td>
			</tr>
		}
	</tbody>
</table>

<div class="d-flex justify-content-between align-items-center">
	<div>الصفحة @ViewBag.Page</div>
	<div class="d-flex gap-2">
		<a class="btn btn-outline-secondary btn-sm" href="@Url.Action("Users", new { page = (int)ViewBag.Page - 1 <= 0 ? 1 : (int)ViewBag.Page - 1, pageSize = (int)ViewBag.PageSize, search = ViewBag.Search })">السابق</a>
		<a class="btn btn-outline-secondary btn-sm" href="@Url.Action("Users", new { page = (int)ViewBag.Page + 1, pageSize = (int)ViewBag.PageSize, search = ViewBag.Search })">التالي</a>
	</div>
</div>
